import{r as t,u as J,j as e}from"./index-CErVs8TI.js";import{b as ee,c as n,a as ae}from"./index.es-BAd8dvJx.js";import{a as p}from"./index-BSgzabWx.js";import{C as h,a as m}from"./CRow-IDhkO6y1.js";import{C as se}from"./CCard-Dy9OhmDH.js";import{C as te}from"./CCardBody-CYNstEXG.js";import{C as ne}from"./CForm-DHqBRf0Y.js";import{C as o,a as r}from"./CInputGroupText-DvICOxYj.js";import{c as oe}from"./cil-user-Ddrdy7PS.js";import{C as i}from"./CFormInput-DLpCIeKK.js";import{c,a as re,b as ie,d as O,e as le}from"./cil-phone-uD9rOO9f.js";import{C as A}from"./CFormSelect-BWd0VUZO.js";import{c as R}from"./cil-lock-locked-DmxpJbVL.js";import"./CFormControlWrapper-CyGeNpXM.js";import"./CFormControlValidation-D-DFYRS7.js";import"./CFormLabel-DmMQvSiy.js";const me=""+new URL("Hunt-T5b_sdLV.png",import.meta.url).href;var ce={LANGUAGE:"en_IN:en",USER:"amazing_atul",npm_config_user_agent:"npm/10.5.2 node/v20.13.0 linux x64 workspaces/false",XDG_SESSION_TYPE:"wayland",npm_node_execpath:"/home/amazing_atul/.nvm/versions/node/v20.13.0/bin/node",SHLVL:"1",npm_config_noproxy:"",OLDPWD:"/home/amazing_atul",HOME:"/home/amazing_atul",LESS:"-R",DESKTOP_SESSION:"ubuntu",NVM_BIN:"/home/amazing_atul/.nvm/versions/node/v20.13.0/bin",npm_package_json:"/home/amazing_atul/build/package.json",ZSH:"/home/amazing_atul/.oh-my-zsh",LSCOLORS:"Gxfxcxdxbxegedabagacad",NVM_INC:"/home/amazing_atul/.nvm/versions/node/v20.13.0/include/node",GTK_MODULES:"gail:atk-bridge",GNOME_SHELL_SESSION_MODE:"ubuntu",PAGER:"less",npm_config_userconfig:"/home/amazing_atul/.npmrc",npm_config_local_prefix:"/home/amazing_atul/build",SYSTEMD_EXEC_PID:"3881",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",P9K_TTY:"old",COLORTERM:"truecolor",COLOR:"1",NVM_DIR:"/home/amazing_atul/.nvm",WAYLAND_DISPLAY:"wayland-0",LOGNAME:"amazing_atul",_:"/home/amazing_atul/.nvm/versions/node/v20.13.0/bin/npm",_P9K_SSH_TTY:"/dev/pts/1",npm_config_prefix:"/home/amazing_atul/.nvm/versions/node/v20.13.0",npm_config_npm_version:"10.5.2",XDG_SESSION_CLASS:"user",USERNAME:"amazing_atul",TERM:"xterm-256color",npm_config_cache:"/home/amazing_atul/.npm",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",npm_config_node_gyp:"/home/amazing_atul/.nvm/versions/node/v20.13.0/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/amazing_atul/build/node_modules/.bin:/home/amazing_atul/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/amazing_atul/.nvm/versions/node/v20.13.0/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/amazing_atul/.nvm/versions/node/v20.13.0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin",SESSION_MANAGER:"local/atul:@/tmp/.ICE-unix/1508,unix/atul:/tmp/.ICE-unix/1508",NODE:"/home/amazing_atul/.nvm/versions/node/v20.13.0/bin/node",npm_package_name:"@coreui/coreui-free-react-admin-template",GNOME_TERMINAL_SCREEN:"/org/gnome/Terminal/screen/d4f114a9_b2b7_43ab_8bc5_295789b0891b",XDG_MENU_PREFIX:"gnome-",GNOME_SETUP_DISPLAY:":1",XDG_RUNTIME_DIR:"/run/user/1000",DISPLAY:":0",LANG:"en_IN",XDG_CURRENT_DESKTOP:"ubuntu:GNOME",XDG_SESSION_DESKTOP:"ubuntu",GNOME_TERMINAL_SERVICE:":1.110",XMODIFIERS:"@im=ibus",XAUTHORITY:"/run/user/1000/.mutter-Xwaylandauth.88C8Q2",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",npm_lifecycle_script:"vite build",SSH_AUTH_SOCK:"/run/user/1000/keyring/ssh",SSH_AGENT_LAUNCHER:"gnome-keyring",SHELL:"/bin/zsh",npm_package_version:"5.0.0",npm_lifecycle_event:"build",QT_ACCESSIBILITY:"1",GDMSESSION:"ubuntu",P9K_SSH:"0",QT_IM_MODULE:"ibus",npm_config_globalconfig:"/home/amazing_atul/.nvm/versions/node/v20.13.0/etc/npmrc",npm_config_init_module:"/home/amazing_atul/.npm-init.js",PWD:"/home/amazing_atul/build",npm_execpath:"/home/amazing_atul/.nvm/versions/node/v20.13.0/lib/node_modules/npm/bin/npm-cli.js",XDG_DATA_DIRS:"/usr/local/share/:/usr/share/:/var/lib/snapd/desktop",_P9K_TTY:"/dev/pts/1",NVM_CD_FLAGS:"-q",npm_config_global_prefix:"/home/amazing_atul/.nvm/versions/node/v20.13.0",npm_command:"run-script",VTE_VERSION:"6800",INIT_CWD:"/home/amazing_atul/build",EDITOR:"vi",NODE_ENV:"production"};const x=ce.REACT_APP_API_URL||"http://localhost:5000/api",Ie=()=>{const[S,w]=t.useState(""),[b,L]=t.useState(""),[_,T]=t.useState(""),[g,P]=t.useState(""),[v,M]=t.useState(""),[j,G]=t.useState(""),[f,U]=t.useState(""),[C,q]=t.useState(""),[H,k]=t.useState(""),[X,Y]=t.useState([]),[l,F]=t.useState(""),[K,E]=t.useState([]),[V,B]=t.useState(""),[N,z]=t.useState(""),[I,W]=t.useState({name:"",image:null}),[D,u]=t.useState(""),$=J();t.useEffect(()=>{(async()=>{try{const s=await p.get(`${x}/animals/getAnimal`);Y(s.data.data)}catch(s){console.error("Error fetching animal data:",s)}})()},[]),t.useEffect(()=>{(async()=>{if(l)try{const s=await p.get(`${x}/animals/getSpecie/${l}`);E(s.data.data)}catch(s){console.error("Error fetching species:",s)}else E([])})()},[l]);const Q=async a=>{if(a.preventDefault(),_!==g){u("Passwords do not match");return}try{const s=await Z(I.image),d=await p.post(`${x}/outfitter/create`,{email:b,password:_,confirmPassword:g,name:S,street:v,city:j,outfitterName:V,addressState:f,zipCode:C,mobileNumber:H,animalId:l,specieId:N,image:s});d.status===201?$("/login"):u(d.data.message||"Failed to register. Please try again.")}catch(s){s.response&&s.response.data?u(s.response.data.message):u("Failed to register. Please try again."),console.error("Registration Error:",s)}},Z=async a=>{const s=new FormData,d="blog_app";s.append("file",a),s.append("upload_preset",d),s.append("cloud_name","dm1piteis");try{return(await p.post("https://api.cloudinary.com/v1_1/dqhh1rff5/image/upload",s)).data.secure_url}catch(y){throw console.error("Error uploading image to Cloudinary:",y),new Error("Error uploading image to Cloudinary")}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(ee,{children:e.jsx(h,{className:"justify-content-center",children:e.jsx(m,{md:9,lg:7,xl:6,children:e.jsx(se,{className:"mx-4",children:e.jsx(te,{className:"p-4",children:e.jsxs(ne,{onSubmit:Q,children:[e.jsx("div",{className:"mb-4 text-center",children:e.jsx("img",{src:me,alt:"Logo",style:{maxWidth:"30%",height:"auto"}})}),e.jsx("h1",{className:"text-center",children:"Register"}),e.jsx("p",{className:"text-body-secondary text-center",children:"Create your account"}),D&&e.jsx("p",{className:"text-danger text-center",children:D}),e.jsxs(o,{className:"mb-3",children:[e.jsx(r,{children:e.jsx(n,{icon:oe})}),e.jsx(i,{placeholder:"Name",autoComplete:"name",value:S,onChange:a=>w(a.target.value),required:!0})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(r,{children:e.jsx(n,{icon:c})}),e.jsx(i,{placeholder:"Outfitter Name",autoComplete:"outfitter-name",onChange:a=>B(a.target.value),required:!0})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(r,{children:e.jsx(n,{icon:re})}),e.jsx(i,{placeholder:"Email",autoComplete:"email",value:b,onChange:a=>L(a.target.value),required:!0})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(r,{children:e.jsx(n,{icon:ie})}),e.jsx(i,{placeholder:"Mobile Number",autoComplete:"mobile-number",onChange:a=>k(a.target.value),required:!0})]}),e.jsxs(h,{children:[e.jsx(m,{children:e.jsxs(o,{className:"mb-3",children:[e.jsx(r,{children:e.jsx(n,{icon:c})}),e.jsx(i,{placeholder:"Street",autoComplete:"street",value:v,onChange:a=>M(a.target.value),required:!0})]})}),e.jsx(m,{children:e.jsxs(o,{className:"mb-3",children:[e.jsx(r,{children:e.jsx(n,{icon:c})}),e.jsx(i,{placeholder:"City",autoComplete:"city",value:j,onChange:a=>G(a.target.value),required:!0})]})})]}),e.jsxs(h,{children:[e.jsx(m,{children:e.jsxs(o,{className:"mb-3",children:[e.jsx(r,{children:e.jsx(n,{icon:c})}),e.jsx(i,{placeholder:"State",autoComplete:"address-state",value:f,onChange:a=>U(a.target.value),required:!0})]})}),e.jsx(m,{children:e.jsxs(o,{className:"mb-3",children:[e.jsx(r,{children:e.jsx(n,{icon:c})}),e.jsx(i,{placeholder:"Zip Code",autoComplete:"zip-code",value:C,onChange:a=>q(a.target.value),required:!0})]})})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(r,{children:e.jsx(n,{icon:O})}),e.jsxs(A,{value:l,onChange:a=>{F(a.target.value),z("")},required:!0,children:[e.jsx("option",{value:"",children:"Select Animal"}),X.map(a=>e.jsx("option",{value:a._id,children:a.name},a._id))]})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(r,{children:e.jsx(n,{icon:O})}),e.jsxs(A,{value:N,onChange:a=>z(a.target.value),disabled:!l,required:!0,children:[e.jsx("option",{value:"",children:"Select Species"}),K.map(a=>e.jsx("option",{value:a.specieID,children:a.specieName},a.specieID))]})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(r,{children:e.jsx(n,{icon:le})}),e.jsx(i,{type:"file",placeholder:"Image",autoComplete:"image",onChange:a=>W({...I,image:a.target.files[0]}),required:!0})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(r,{children:e.jsx(n,{icon:R})}),e.jsx(i,{type:"password",placeholder:"Password",autoComplete:"new-password",value:_,onChange:a=>T(a.target.value),required:!0})]}),e.jsxs(o,{className:"mb-4",children:[e.jsx(r,{children:e.jsx(n,{icon:R})}),e.jsx(i,{type:"password",placeholder:"Repeat password",autoComplete:"new-password",value:g,onChange:a=>P(a.target.value),required:!0})]}),e.jsx("div",{className:"d-grid",children:e.jsx(ae,{color:"success",type:"submit",children:"Create Account"})})]})})})})})})})};export{Ie as default};
