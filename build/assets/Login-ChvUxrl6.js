import{r as o,u as f,j as e}from"./index-CErVs8TI.js";import{a as y}from"./index-BSgzabWx.js";import{b as N,c as l,a as b}from"./index.es-BAd8dvJx.js";import{C as m,a as t}from"./CRow-IDhkO6y1.js";import{C as v}from"./CCardGroup-CeqQgzd4.js";import{C as L}from"./CCard-Dy9OhmDH.js";import{C as w}from"./CCardBody-CYNstEXG.js";import{C as I}from"./CForm-DHqBRf0Y.js";import{C as d,a as p}from"./CInputGroupText-DvICOxYj.js";import{c as S}from"./cil-user-Ddrdy7PS.js";import{C as x}from"./CFormInput-DLpCIeKK.js";import{c as k}from"./cil-lock-locked-DmxpJbVL.js";import"./CFormControlWrapper-CyGeNpXM.js";import"./CFormControlValidation-D-DFYRS7.js";import"./CFormLabel-DmMQvSiy.js";const E=""+new URL("Logo-CSUzlRd3.png",import.meta.url).href,P="http://3.111.163.2:5000/api/auth/login-admin",M=()=>{const[n,u]=o.useState(""),[i,h]=o.useState(""),[c,a]=o.useState(""),j=f(),C=async r=>{r.preventDefault();try{const s=await y.post(P,{email:n,password:i});if(s.status===200){const{token:g}=s.data;localStorage.setItem("token",g),j("/dashboard")}else a(s.data.message||"Failed to login. Please check your credentials.")}catch(s){s.response&&s.response.data?a(s.response.data.message):a("Failed to login. Please check your credentials."),console.error("Login Error:",s)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(N,{children:e.jsx(m,{className:"justify-content-center",children:e.jsx(t,{md:6,children:e.jsx(v,{children:e.jsx(L,{className:"p-4",children:e.jsxs(w,{children:[e.jsx("div",{className:"mb-4 text-center",children:e.jsx("img",{src:E,alt:"Logo",style:{maxWidth:"30%",height:"auto"}})}),e.jsxs(I,{onSubmit:C,children:[e.jsx("h1",{className:"text-center",children:"Login"}),e.jsx("p",{className:"text-body-secondary text-center",children:"Sign In to your account"}),c&&e.jsx("p",{className:"text-danger",children:c}),e.jsxs(d,{className:"mb-3",children:[e.jsx(p,{children:e.jsx(l,{icon:S})}),e.jsx(x,{type:"email",placeholder:"Email",autoComplete:"email",value:n,onChange:r=>u(r.target.value),required:!0})]}),e.jsxs(d,{className:"mb-4",children:[e.jsx(p,{children:e.jsx(l,{icon:k})}),e.jsx(x,{type:"password",placeholder:"Password",autoComplete:"current-password",value:i,onChange:r=>h(r.target.value),required:!0})]}),e.jsx(m,{children:e.jsxs(t,{className:"text-center",children:[e.jsx(t,{children:e.jsx(b,{type:"submit",color:"primary",className:"px-4",children:"Login"})}),e.jsx(t,{className:"text-right"})]})})]})]})})})})})})})};export{M as default};
